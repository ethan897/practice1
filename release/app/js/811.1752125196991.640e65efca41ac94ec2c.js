"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[811],{6811:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return pageA}});var jsx_runtime=__webpack_require__(4848),react=__webpack_require__(6540),use_cache=(__webpack_require__(2675),__webpack_require__(1629),__webpack_require__(5276),__webpack_require__(9085),__webpack_require__(9432),__webpack_require__(6099),__webpack_require__(3500),__webpack_require__(6031),__webpack_require__(3969)),dist=__webpack_require__(7767),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},prop_types=__webpack_require__(5556),prop_types_default=__webpack_require__.n(prop_types),PageA=function(_a){var leavePage=_a.leavePage,cacheState=_a.cacheState,_b=(0,react.useState)((null==cacheState?void 0:cacheState.value)||""),value=_b[0],setValue=_b[1];(0,react.useEffect)((function(){}),[]);var goOtherPage=function(){leavePage({pathname:"/hello2",cacheState:{value:value}})};return(0,jsx_runtime.jsxs)("div",{className:"index-module__full-a--AUKwm",id:"fullA",children:[(0,jsx_runtime.jsx)("div",{children:"我是页面A"}),(0,jsx_runtime.jsxs)("h1",{children:["计算结果：","development"]}),(0,jsx_runtime.jsx)("input",{type:"text",value:value,onChange:function(e){return setValue(e.target.value)}}),(0,jsx_runtime.jsx)("button",{style:{width:100,height:100},onClick:goOtherPage,children:"前往页面B"}),(0,jsx_runtime.jsx)("div",{style:{height:100},onClick:goOtherPage,children:"测试进入保留页面滑动状态..."}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("div",{style:{height:100},onClick:goOtherPage,children:"测试进入保留页面滑动状态..."}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("div",{style:{height:100},onClick:goOtherPage,children:"测试进入保留页面滑动状态..."}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("div",{style:{height:100},onClick:goOtherPage,children:"测试进入保留页面滑动状态..."}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("div",{style:{height:100},onClick:goOtherPage,children:"测试进入保留页面滑动状态..."}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("div",{style:{height:100},onClick:goOtherPage,children:"测试进入保留页面滑动状态..."}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("div",{style:{height:100},onClick:goOtherPage,children:"测试进入保留页面滑动状态..."}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("div",{style:{height:100},onClick:goOtherPage,children:"测试进入保留页面滑动状态..."}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("div",{style:{height:100},onClick:goOtherPage,children:"测试进入保留页面滑动状态..."}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("div",{style:{height:100},onClick:goOtherPage,children:"测试进入保留页面滑动状态..."}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("div",{style:{height:100},onClick:goOtherPage,children:"测试进入保留页面滑动状态..."}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("div",{style:{height:100},onClick:goOtherPage,children:"测试进入保留页面滑动状态..."}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("div",{style:{height:100},onClick:goOtherPage,children:"测试进入保留页面滑动状态..."})]})};PageA.propTypes={leavePage:prop_types_default().func,cacheState:prop_types_default().object||null};var Comp,_a,cacheId,scroll,pageA=(Comp=PageA,cacheId=(_a={cacheId:"pageA",scroll:!0}).cacheId,scroll=_a.scroll,function(props){var didMount,willUnmount,_a=(0,use_cache.A)(),getItem=_a.getItem,setItem=_a.setItem,setScroll=_a.setScroll,_ref=(0,react.useRef)(null),_timeout=(0,react.useRef)(null),navigate=(0,dist.Zp)(),navigateType=(0,dist.wQ)(),cache=((0,dist.zy)(),(0,react.useMemo)((function(){var _a;return"POP"===navigateType&&null!==(_a=getItem(cacheId))&&void 0!==_a?_a:{}}),[navigateType,getItem])),handleScroll=(0,react.useCallback)((function(_a){var target=_a.target;target.id&&(_timeout.current=setTimeout((function(){var _a;setScroll({cacheId:cacheId,cacheScroll:(_a={},_a[target.id]=target.scrollTop,_a)})}),200))}),[setScroll]);didMount=function(){var _a;if(scroll){_ref.current.addEventListener("scroll",handleScroll,!0);var scrollKeys=Object.keys(null!==(_a=cache.cacheScroll)&&void 0!==_a?_a:{});"POP"===navigateType&&scrollKeys.length>0&&scrollKeys.forEach((function(v){document.getElementById(v).scrollTop=cache.cacheScroll[v]}))}},(0,react.useEffect)((function(){return didMount(),function(){willUnmount&&willUnmount()}}),[]);var setCacheHandle=(0,react.useCallback)((function(cacheState){setItem({cacheId:cacheId,cacheState:cacheState})}),[setItem]),leavePage=(0,react.useCallback)((function(_a){var cacheState=_a.cacheState,others=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}(_a,["cacheState"]);setCacheHandle(cacheState),navigate(others)}),[navigate,setCacheHandle]);return(0,jsx_runtime.jsx)("div",{ref:_ref,children:(0,jsx_runtime.jsx)(Comp,__assign({cacheState:cache.cacheState,cacheScroll:cache.cacheScroll,leavePage:leavePage},props))})})}}]);